# Token Validator

Валидатор проверяет корректность ссылок на токены в JSON файлах. Запускается командой `npm test`.

## Что проверяет валидатор

1. **Простые ссылки на токены**
   ```json
   {
     "value": "{typography.font.display}"
   }
   ```

2. **Вложенные ссылки**
   ```json
   {
     "value": "{typography.line-height.{semantic-typography.header-xl.style.xl}}"
   }
   ```

3. **Математические операции**
   ```json
   {
     "value": "{spacing.xl} + {spacing.md}"
   }
   ```
   ```json
   {
     "value": "{typography.line-height.display.xl} / 2"
   }
   ```

## Как работает валидатор

1. **Загрузка токенов**
   - Рекурсивно загружает все JSON файлы из директории `tokens/`
   - Объединяет все токены в единый объект для поиска значений

2. **Проверка ссылок**
   - Находит все ссылки на токены в строках (формат `{token.path}`)
   - Для каждой ссылки проверяет существование токена
   - Поддерживает вложенные ссылки, сначала разрешая внутренние ссылки
   - В математических операциях проверяет корректность каждой части

3. **Обработка ошибок**
   - Выводит список файлов с ошибками
   - Для каждой ошибки показывает:
     - Путь к токену
     - Некорректную ссылку
     - Описание ошибки

## Примеры ошибок

1. **Несуществующий токен**
   ```json
   { "value": "{typography.missing.token}" }
   ```

2. **Некорректный формат ссылки**
   ```json
   { "value": "{incomplete.reference" }
   ```

3. **Ссылка на группу вместо значения**
   ```json
   { "value": "{typography}" }
   ```

## Запуск

```bash
npm test
```

Валидатор завершится с кодом 0, если все токены корректны, и с кодом 1, если найдены ошибки.
